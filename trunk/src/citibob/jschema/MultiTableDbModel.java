/*
JSchema: library for GUI-based database applications
This file Copyright (c) 2006 by Robert Fischer

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
*/
package citibob.jschema;

import java.util.*;
import java.sql.*;
import citibob.swing.table.*;

/**
 * A DbModel meant for reports.  It presents one TableModel to the world
 as its output; however, the data are generally stored in a set of tables
 generated by a set of sub-TableModels, including the OuterJoinRSTableModel.
 All sub-models must be of class TableDbModel. */
public abstract class MultiTableDbModel extends MultiDbModel implements TableDbModel
{

JTypeTableModel tableModel;

public MultiTableDbModel() {}
public MultiTableDbModel(DbModel[] mm) {init(mm); }
public void init(DbModel[] mm)
{
	super.init(mm);
	JTypeTableModel[] tableModels = new JTypeTableModel[models.size()];
	int i=0;
	for (Object o : models) {
		TableDbModel m = (TableDbModel)o;
		tableModels[i++] = m.getTableModel();
	}
	tableModel = new MultiJTypeTableModel(tableModels);
}

/** Return the JTypeTableModel associated with this DbModel */
public citibob.swing.table.JTypeTableModel getTableModel()
{
	return tableModel;
}
	
	
}
